<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3D Shooter - University Project</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: #000;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    #game-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    #ui-layer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 20px;
      box-sizing: border-box;
    }

    #crosshair {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><circle cx="10" cy="10" r="2" fill="lime"/><line x1="0" y1="10" x2="6" y2="10" stroke="lime" stroke-width="2"/><line x1="14" y1="10" x2="20" y2="10" stroke="lime" stroke-width="2"/><line x1="10" y1="0" x2="10" y2="6" stroke="lime" stroke-width="2"/><line x1="10" y1="14" x2="10" y2="20" stroke="lime" stroke-width="2"/></svg>') no-repeat center center;
      background-size: contain;
      transform: translate(-50%, -50%);
    }

    .hud-text {
      color: white;
      text-shadow: 1px 1px 2px black;
      font-size: 24px;
      font-weight: bold;
    }

    #instructions {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      text-align: center;
      background: rgba(0, 0, 0, 0.7);
      padding: 20px;
      border-radius: 10px;
      border: 2px solid lime;
      pointer-events: auto;
      cursor: pointer;
    }

    .hidden {
      display: none !important;
    }
  </style>
</head>

<body>
  <div id="game-container"></div>
  <!-- HUD -->
  <div id="crosshair">+</div>
  <div id="hit-marker" style="
      position: absolute; 
      top: 50%; 
      left: 50%; 
      transform: translate(-50%, -50%); 
      width: 40px; 
      height: 40px; 
      pointer-events: none; 
      opacity: 0; 
      transition: opacity 0.1s;
      z-index: 99;
  ">
    <svg width="40" height="40" viewBox="0 0 40 40">
      <line x1="10" y1="10" x2="30" y2="30" stroke="red" stroke-width="4" />
      <line x1="30" y1="10" x2="10" y2="30" stroke="red" stroke-width="4" />
    </svg>
  </div>
  <div id="health" style="display:none;">Health: 100</div>
  <div id="player-stats"
    style="position: absolute; top: 20px; left: 20px; color: gold; font-family: 'Courier New', monospace; font-size: 24px; font-weight: bold; text-shadow: 2px 2px 0 #000; line-height: 1.5; pointer-events: none;">
    <div>Level: 1 (Kills: 0)</div>
    <div>Money: $0</div>
    <div>Weapon: Dual Colts</div>
  </div>

  <div id="shop-menu"
    style="display:none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 800px; height: 600px; background: rgba(50, 30, 10, 0.95); border: 4px solid gold; border-radius: 10px; color: white; padding: 20px; z-index: 2000; font-family: 'Courier New', monospace;">
    <h1 style="text-align: center; color: gold; margin-top: 0;">ОРУЖЕЙНИК</h1>
    <div style="text-align: center; margin-bottom: 20px;">Стрелки/Мышь: Выбор. Пробел/Клик: Купить. 'G' или 'Esc':
      Закрыть.</div>

    <div id="shop-items"
      style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; height: 450px; overflow-y: auto;">
      <!-- Items injected by JS -->
    </div>
  </div>
  <div id="main-menu">
    <h1 style="font-size: 60px; color: #ffaa00; text-shadow: 4px 4px 0 #000; margin-bottom: 40px;">WESTERN DUEL</h1>

    <div class="menu-btn" id="btn-start">ИГРАТЬ</div>

    <div style="margin: 20px 0; display:flex; flex-direction:column; align-items:center;">
      <span style="color:white; font-size: 24px; margin-bottom: 5px;">СЛОЖНОСТЬ: </span>
      <button id="btn-diff" class="menu-btn" style="width: 250px; font-size: 20px;">НОРМАЛЬНО</button>
    </div>

    <!-- <div class="menu-btn" id="btn-exit">ВЫХОД</div> -->

    <p style="color: #aaa; margin-top: 40px; text-align:center;">
      WASD - Ходить | ПРОБЕЛ - Прыжок | КЛИК - Огонь<br>
      R - Перезарядка | G - Магазин | T - Рация
    </p>
  </div>

  <style>
    #main-menu {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/terrain/grasslight-big.jpg');
      background-size: cover;
      /* Overlay dark */
      box-shadow: inset 0 0 0 1000px rgba(0, 0, 0, 0.7);

      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 10;
    }

    .menu-btn {
      background: #8b4513;
      color: #ffcc99;
      border: 4px solid #5a2e0c;
      padding: 15px 40px;
      font-size: 30px;
      font-family: 'Courier New', Courier, monospace;
      font-weight: bold;
      cursor: pointer;
      margin: 10px;
      transition: 0.2s;
      text-align: center;
      width: 300px;
    }

    .menu-btn:hover {
      background: #a0522d;
      transform: scale(1.05);
      color: #fff;
    }
  </style>
  <script type="module" src="/src/main.js"></script>
</body>

</html>